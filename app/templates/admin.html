<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>The Ly Family - Admin</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.css') }}">
{#    <link rel="stylesheet" href="/static/css/main.css">#}
</head>


<body>

<div class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <span class="navbar-brand">Website Admin Console</span>
        </div>
    </div>
</div>
<div class="row" ng-app="AdminSettingsApp">
    <div class="col-md-2">
        <div class="navbar navbar-default" role="navigation">
            <ul class="nav nav-pills nav-stacked">
                <li class="active"><a href="#basic" data-toggle="pill">Basic Settings</a></li>
                <li><a href="#customization" data-toggle="pill">Customization</a></li>
                <li><a href="#another" data-toggle="pill">Another Category</a></li>
            </ul>
        </div>
    </div>
    <div class="col-md-9">
        <div class="tab-content" ng-controller="AdminSettingsController">
            <div class="tab-pane active" id="basic">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h2 class="panel-title">Basic Settings</h2>
                    </div>
                    <div class="panel-body">
                        {% from "_formhelpers.html" import form_field %}
                        <form ng-submit="updateSettings()" role="form">
                            <div class="col-md-6 column" ng-repeat="setting in settings">
                                {% raw %}
                                    <label for="{{ setting.name }}">{{ setting.name }}</label>
                                    <input type="text" class="form-control" name="{{ setting.name }}" ng-model="setting.value" value="{{ setting.value }}"/>
                                {% endraw %}
                            </div>
                            <button type="submit" class="btn btn-primary btn-padding">Save</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="tab-pane" id="customization">
                Customizations
            </div>
            <div class="tab-pane" id="another">
                Other Settings
            </div>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/modernizr-2.6.2-respond-1.1.0.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery-1.10.2.js') }}"></script>
<script src="{{ url_for('static', filename='js/bootstrap.js') }}"></script>
<script src="{{ url_for('static', filename='js/angular.js') }}"></script>
<script src="{{ url_for('static', filename='js/angular-animate.js') }}"></script>
{#<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>#}
{#<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.14/angular.js"></script>#}
{#<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.14/angular-animate.js"></script>#}
<script>
    var adminSettingsApp = angular.module('AdminSettingsApp', []);

    adminSettingsApp.controller('AdminSettingsController', function ($scope, $http) {
        $http.get('/admin/settings').success(function(data) {
            $scope.settings = data.settings;
        });

        $scope.updateSettings = function () {
            $http.post('/admin/settings/update', {'settings': $scope.settings}).success(function (data) {
            });
        }
    });
</script>

</body>

</html>
