{% extends 'layout.html' %}

{% block stylesheet %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.css">
{% endblock %}

{% block body %}
    <div class="page-header">
        <h2>Lists
            <small>enumerate stuff</small>
        </h2>
    </div>
    <article ng-app="ListsApp" ng-controller="ListCtrl">
        {% raw %}
        <section>
            <div class="col-lg-3 list-group">
                <a class="list-group-item" ng-repeat="list in lists" ng-click="setActiveList(list.id)">
                    {{ list.name }}
                    <span class="badge">{{ list.items.length || 0 }}</span>
                </a>
                <a class="list-group-item" ng-click="createNewList()">
                    <span class="glyphicon glyphicon-plus"></span> Create New
                </a>
            </div>
            <div class="col-lg-6 active-list">
                <div ng-hide="activeListId">Select a list or create a new one</div>
                <div ng-show="activeListId">
                    <h3 class="list-name">
                        {{ activeList().name }}
                        <span class="glyphicon glyphicon-pencil"></span>
                        <span class="glyphicon glyphicon-remove pull-right" ng-click="deleteActiveList()"></span>
                    </h3>
                    <li class="existing-items" ng-repeat="item in activeList().items"><span class="glyphicon glyphicon-minus"></span> {{ item }}</li>
                    <li class="preview-item" ng-show="newItem"><span class="glyphicon glyphicon-minus"></span> {{ newItem }}</li>
                    <input class="new-item" type="text" placeholder="add something..." ng-model="newItem" ng-keyup="addItemOnEnter($event)" focus-on-show/>
                </div>
            </div>
        </section>
        {% endraw %}
    </article>
{% endblock body %}

{% block javascript %}
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.15/angular.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js"></script>
    <script src="{{ url_for('static', filename='js/lists.js') }}"></script>
{% endblock %}